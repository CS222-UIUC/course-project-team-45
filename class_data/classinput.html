<!DOCTYPE html>

<html>
    <head>
        <title>Class Input</title>
        <link href="../main/style.css" rel="stylesheet">
    </head>
    <body>
        <nav>
            <a href="../index.html">UIUC Class Path Optimizer</a>
            <a href="classinput.html">Class Input</a>
            <a href="../main/aboutus.html">About Us</a>

        </nav>
        <script src = "class_data.js"></script>
        <script>
            const subjects = [];
            const sections = [];
            function takeinput() {
                let value1 = document.getElementById("inputbox1").value.toUpperCase();
                let value2 = document.getElementById("inputbox2").value;
                subjects.push(value1);
                sections.push(value2);
                displayInputs();
            }
            async function displayInputs() {
                let pog = '';
                for (let i = 0; i < subjects.length; i++) {
                    pog += `<u><h3>${subjects[i] + sections[i]}</h3></u>`;
                    // for loop here
                    await loadClassData(subjects[i],sections[i],'Fall 2022');
                    for (sect of JSON.parse(window.localStorage.getItem('CLASS_DATA'))) {
                        console.log("using class data")
                        pog += `<b>Section ${sect.section}</b>`;
                        pog += `<p>Building: ${sect.building}, Room ${sect.room}</p>`;
                        pog += `<p>Start: ${sect.start_time}</p>`;
                        pog += `<p>End: ${sect.end_time}</p>`;
                    }

                }
                document.getElementById("listofstuffs").innerHTML = pog;
            }
            function deletePrev()
            {
                subjects.pop();
                sections.pop()
                displayInputs();
            }
        </script>
        <main>
            <h1 class="title">Class Input</h1>
            <p class="description">Input the information about the classes that you are currently taking.</p>
            <!--replace with a form to input classes-->
            <label for="fname">Subject (CS,ECE,etc): </label><br>
            <input type="text" id="inputbox1"><br><br>
            <label for="fname">Number (124,225,etc): </label><br>
            <input type="text" id="inputbox2"><br><br>

            <input type="button" value="Submit" onclick="takeinput()">
            <input type="button" value="Delete Last" onclick="deletePrev()">

            <h2>List of Sections: </h2>
            <div id="listofstuffs"></div>
        </main>
    </body>
</html>
